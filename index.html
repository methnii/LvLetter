<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animated Love Letter</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
        }
        
        body {
            background-color: #ffe6f2;
            background-image: radial-gradient(#ffb6d9 2px, transparent 2px);
            background-size: 40px 40px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 10px;
        }
        
        h1 {
            color: #ff66a3;
            font-size: 3rem;
            text-shadow: 3px 3px 0 #ffb3d9;
            margin-bottom: 10px;
            animation: float 3s ease-in-out infinite;
        }
        
        .subtitle {
            color: #ff3399;
            font-size: 1.2rem;
            font-style: italic;
        }
        
        .letter-container {
            position: relative;
            width: 100%;
            perspective: 1000px;
        }
        
        .envelope {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            height: 200px;
            background-color: #ff99cc;
            border-radius: 10px;
            z-index: 2;
            cursor: pointer;
            transition: transform 0.5s;
            box-shadow: 0 10px 20px rgba(255, 102, 163, 0.3);
        }
        
        .envelope:hover {
            transform: translateX(-50%) scale(1.05);
        }
        
        .envelope:before, .envelope:after {
            content: '';
            position: absolute;
            background-color: #ff80bf;
            width: 150px;
            height: 150px;
            border-radius: 10px;
        }
        
        .envelope:before {
            transform: rotate(45deg);
            top: -75px;
            left: 75px;
        }
        
        .envelope:after {
            transform: rotate(-45deg);
            top: -75px;
            right: 75px;
        }
        
        .letter {
            background-color: #fff0f7;
            border: 5px dashed #ff99cc;
            border-radius: 15px;
            padding: 40px;
            width: 100%;
            min-height: 500px;
            box-shadow: 0 15px 30px rgba(255, 102, 163, 0.2);
            transform: rotateY(10deg);
            transition: all 0.8s ease;
            position: relative;
            z-index: 1;
            opacity: 0;
            transform-origin: center top;
            transform: scale(0.9) rotateY(10deg);
        }
        
        .letter.open {
            opacity: 1;
            transform: scale(1) rotateY(0);
        }
        
        .letter-content {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease 0.5s;
        }
        
        .letter.open .letter-content {
            opacity: 1;
            transform: translateY(0);
        }
        
        .letter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .heart-icon {
            color: #ff66a3;
            font-size: 2.5rem;
            animation: heartbeat 1.2s infinite;
        }
        
        .date {
            color: #ff66a3;
            font-style: italic;
            font-size: 1.1rem;
        }
        
        .salutation {
            color: #ff3399;
            font-size: 1.8rem;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .message {
            line-height: 1.8;
            font-size: 1.2rem;
            color: #cc0066;
            margin-bottom: 30px;
        }
        
        .signature {
            text-align: right;
            color: #ff3399;
            font-size: 1.5rem;
            font-style: italic;
            margin-top: 30px;
        }
        
        .gif-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .gif {
            width: 150px;
            height: 150px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(255, 102, 163, 0.3);
        }
        
        .gif img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .forgive-btn {
            background-color: #ff66a3;
            color: white;
            box-shadow: 0 5px 0 #cc0066;
        }
        
        .forgive-btn:hover {
            background-color: #ff3385;
            transform: translateY(-5px);
            box-shadow: 0 10px 0 #cc0066;
        }
        
        .forgive-btn:active {
            transform: translateY(0);
            box-shadow: 0 5px 0 #cc0066;
        }
        
        .kiss-btn {
            background-color: #ffb3d9;
            color: #cc0066;
            box-shadow: 0 5px 0 #ff80bf;
        }
        
        .kiss-btn:hover {
            background-color: #ff99cc;
            transform: translateY(-5px);
            box-shadow: 0 10px 0 #ff80bf;
        }
        
        .kiss-btn:active {
            transform: translateY(0);
            box-shadow: 0 5px 0 #ff80bf;
        }
        
        .hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .heart {
            position: absolute;
            font-size: 20px;
            color: #ff66a3;
            opacity: 0;
            animation: fall linear forwards;
        }
        
        .message-display {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background-color: #ffb3d9;
            color: #cc0066;
            padding: 30px;
            border-radius: 20px;
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            box-shadow: 0 15px 30px rgba(255, 102, 163, 0.5);
            z-index: 100;
            transition: transform 0.5s;
        }
        
        .message-display.show {
            transform: translate(-50%, -50%) scale(1);
        }
        
        .footer {
            text-align: center;
            color: #ff66a3;
            margin-top: 20px;
            font-style: italic;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        @keyframes envelopeOpen {
            0% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.1) rotate(5deg); }
            100% { transform: translateX(-50%) scale(0) rotate(10deg); }
        }
        
        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; }
            .letter { padding: 25px; }
            .message { font-size: 1.1rem; }
            .btn { padding: 12px 20px; font-size: 1rem; }
            .envelope { width: 250px; height: 170px; }
        }
        
        @media (max-width: 480px) {
            h1 { font-size: 1.8rem; }
            .letter { padding: 20px; }
            .salutation { font-size: 1.5rem; }
            .message { font-size: 1rem; }
            .actions { flex-direction: column; align-items: center; }
            .btn { width: 80%; justify-content: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-heart"></i> I'm Sorry <i class="fas fa-heart"></i></h1>
            <p class="subtitle">Click the envelope to open the letter</p>
        </div>
        
        <div class="letter-container">
            <div class="envelope" id="envelope">
                <!-- Envelope design created with CSS -->
            </div>
            
            <div class="letter" id="letter">
                <div class="letter-content">
                    <div class="letter-header">
                        <div class="heart-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="date" id="current-date">Today</div>
                    </div>
                    
                    <div class="salutation">My Dearest Love,</div>
                    
                    <div class="message">
                        <p>I'm writing this letter with a heart full of regret and love. I know I've made mistakes and hurt you, and for that, I am truly sorry.</p>
                        
                        <p>You mean the world to me, and seeing you upset because of my actions breaks my heart. I never meant to cause you pain, and I regret every moment that made you feel less than the amazing person you are.</p>
                        
                        <p>Please know that my love for you is deeper than any mistake I've made. You are my sunshine on cloudy days, my comfort in difficult times, and my happiness in this crazy world.</p>
                        
                        <p>I promise to learn from this and to be better for us. Our relationship is the most precious thing in my life, and I will do everything to protect it and make you feel loved every single day.</p>
                        
                        <p>I'm hoping with all my heart that you can find it in you to forgive me. I love you more than words can express.</p>
                    </div>
                    
                    <div class="gif-container">
                        <div class="gif">
                            <img src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif" alt="Cute apology gif">
                        </div>
                        <div class="gif">
                            <img src="https://media.giphy.com/media/26tknCqiJrBQG6DrC/giphy.gif" alt="Love hearts gif">
                        </div>
                        <div class="gif">
                            <img src="https://media.giphy.com/media/l4FGu51QHfD2qO3G8/giphy.gif" alt="Sorry bear gif">
                        </div>
                    </div>
                    
                    <div class="signature">
                        With all my love,<br>
                        <span id="signer-name">Your Loving Partner</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="actions">
            <button class="btn forgive-btn" id="forgiveBtn">
                <i class="fas fa-heart"></i> Please Forgive Me
            </button>
            <button class="btn kiss-btn" id="kissBtn">
                <i class="fas fa-kiss-wink-heart"></i> Virtual Kiss
            </button>
        </div>
        
        <div class="footer">
            Made with <i class="fas fa-heart" style="color:#ff3399;"></i> for someone special
        </div>
    </div>
    
    <div class="hearts" id="heartsContainer"></div>
    
    <div class="message-display" id="messageDisplay">
        <div id="displayText">Thank you! I love you! ðŸ’•</div>
    </div>

    <script>
        // DOM Elements
        const envelope = document.getElementById('envelope');
        const letter = document.getElementById('letter');
        const forgiveBtn = document.getElementById('forgiveBtn');
        const kissBtn = document.getElementById('kissBtn');
        const heartsContainer = document.getElementById('heartsContainer');
        const messageDisplay = document.getElementById('messageDisplay');
        const displayText = document.getElementById('displayText');
        const currentDate = document.getElementById('current-date');
        const signerName = document.getElementById('signer-name');
        
        // Set current date
        const today = new Date();
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        currentDate.textContent = today.toLocaleDateString('en-US', options);
        
        // Ask for recipient's name
        const recipientName = prompt("What's your loved one's name? (Leave blank for default)");
        if (recipientName && recipientName.trim() !== "") {
            signerName.textContent = recipientName;
        }
        
        // Open the letter when envelope is clicked
        envelope.addEventListener('click', () => {
            // Animate envelope
            envelope.style.animation = 'envelopeOpen 0.8s forwards';
            
            // Open letter after a short delay
            setTimeout(() => {
                letter.classList.add('open');
                envelope.style.display = 'none';
            }, 500);
        });
        
        // Forgive button click
        forgiveBtn.addEventListener('click', () => {
            displayText.innerHTML = "Thank you for forgiving me! <br>I promise to do better! ðŸ’–";
            showMessage();
            createHearts(50);
        });
        
        // Kiss button click
        kissBtn.addEventListener('click', () => {
            displayText.innerHTML = "Sending you virtual kisses! ðŸ˜˜ðŸ’•<br>Mwah! Mwah! Mwah!";
            showMessage();
            createHearts(30);
            
            // Create kiss emojis
            createKisses(20);
        });
        
        // Show message display
        function showMessage() {
            messageDisplay.classList.add('show');
            
            setTimeout(() => {
                messageDisplay.classList.remove('show');
            }, 3000);
        }
        
        // Create falling hearts
        function createHearts(count) {
            for (let i = 0; i < count; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.innerHTML = '<i class="fas fa-heart"></i>';
                
                // Random position
                const left = Math.random() * 100;
                const size = Math.random() * 20 + 10;
                const duration = Math.random() * 3 + 2;
                const delay = Math.random() * 2;
                
                heart.style.left = `${left}vw`;
                heart.style.fontSize = `${size}px`;
                heart.style.animationDuration = `${duration}s`;
                heart.style.animationDelay = `${delay}s`;
                
                heartsContainer.appendChild(heart);
                
                // Remove heart after animation
                setTimeout(() => {
                    heart.remove();
                }, (duration + delay) * 1000);
            }
        }
        
        // Create falling kisses
        function createKisses(count) {
            for (let i = 0; i < count; i++) {
                const kiss = document.createElement('div');
                kiss.classList.add('heart');
                kiss.innerHTML = 'ðŸ˜˜';
                
                // Random position
                const left = Math.random() * 100;
                const size = Math.random() * 25 + 15;
                const duration = Math.random() * 3 + 2;
                const delay = Math.random() * 2;
                
                kiss.style.left = `${left}vw`;
                kiss.style.fontSize = `${size}px`;
                kiss.style.animationDuration = `${duration}s`;
                kiss.style.animationDelay = `${delay}s`;
                
                heartsContainer.appendChild(kiss);
                
                // Remove kiss after animation
                setTimeout(() => {
                    kiss.remove();
                }, (duration + delay) * 1000);
            }
        }
        
        // Create some initial hearts when page loads
        window.addEventListener('load', () => {
            createHearts(15);
            
            // Auto-open letter after 5 seconds if not opened
            setTimeout(() => {
                if (!letter.classList.contains('open')) {
                    envelope.click();
                }
            }, 5000);
        });
    </script>
</body>
</html>